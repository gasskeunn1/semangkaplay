<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GameOnX</title>
  <meta name="description" content="Tonton live streaming voli di GameOnX.">
  <meta property="og:title" content="GameOnX - Live Streaming">
  <meta property="og:description" content="Tonton live streaming voli di GameOnX.">
  <meta property="og:image" content="https://gameonx.my.id/assets/preview.jpg">
  <meta property="og:url" content="https://gameonx.my.id">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="GameOnX - Live Streaming">
  <meta name="twitter:description" content="Tonton live streaming voli di GameOnX.">
  <meta name="twitter:image" content="https://gameonx.my.id/assets/preview.jpg">
  <meta name="twitter:url" content="https://gameonx.my.id">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="manifest" href="assets/site.webmanifest">
  <link rel="stylesheet" href="assets/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    .glow-effect { box-shadow: 0 0 10px rgba(75, 85, 99, 0.5), 0 0 20px rgba(75, 85, 99, 0.3); transition: box-shadow 0.3s ease; }
    .glow-effect:hover { box-shadow: 0 0 12px rgba(75, 85, 99, 0.7), 0 0 25px rgba(75, 85, 99, 0.4); }
    .channel-card:hover { box-shadow: 0 0 12px rgba(239, 68, 68, 0.6), 0 0 24px rgba(239, 68, 68, 0.4); }
    #scrollTopBtn { display: none; position: fixed; bottom: 30px; right: 30px; z-index: 50; background-color: #1f2937; border-radius: 9999px; padding: 0.75rem; box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: opacity 0.3s ease; }
    #scrollTopBtn.show { display: block; opacity: 1; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .animate-pulse { animation: pulse 1s infinite; }
  </style>
</head>
<body class="bg-gray-900 text-white font-sans min-h-screen flex flex-col relative">
  <!-- Konten sebelumnya tidak berubah -->
  <script>
    fetch('data/channels.json')
      .then(res => res.json())
      .then(data => {
        data.sort((a, b) => new Date(a.start) - new Date(b.start));
        const container = document.getElementById('channelContainer');
        const now = new Date();
        data.forEach(item => {
          const startDate = new Date(item.start);
          const offset = startDate.getTimezoneOffset() * 60000;
          const localTime = new Date(startDate.getTime() - offset);
          const options = { day: '2-digit', month: 'short', hour: '2-digit', minute: '2-digit' };
          const formatter = new Intl.DateTimeFormat('id-ID', options);
          const timeStr = formatter.format(localTime);
          const zone = Intl.DateTimeFormat().resolvedOptions().timeZone;
          let zona = 'WIB';
          if (zone.includes('Makassar') || zone.includes('Ujung') || zone.includes('Denpasar')) zona = 'WITA';
          else if (zone.includes('Jayapura')) zona = 'WIT';
          const isLive = now >= startDate;
          const card = document.createElement('div');
          card.className = 'relative channel-card cursor-pointer rounded-lg overflow-hidden shadow-lg bg-gray-800 hover:bg-gray-700 transition duration-300';
          card.innerHTML = `
            ${isLive ? '<div class="absolute top-2 left-2 bg-red-600 text-white text-xs px-2 py-0.5 rounded animate-pulse">ðŸ”´ LIVE</div>' : ''}
            <img src="${item.poster}" alt="${item.title}" class="w-full h-40 object-cover">
            <div class="p-3">
              <h2 class="text-sm font-semibold mb-1">${item.title}</h2>
              <p class="text-xs text-gray-300">${isLive ? '' : timeStr + ' ' + zona}</p>
            </div>
          `;
          card.addEventListener('click', () => {
            const video = document.getElementById('videoPlayer');
            if (Hls.isSupported()) {
              const hls = new Hls();
              hls.loadSource(item.src);
              hls.attachMedia(video);
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
              video.src = item.src;
            }
            video.play();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
          container.appendChild(card);
        });
      });
  </script>
</body>
</html>
